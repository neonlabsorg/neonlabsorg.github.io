"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3756],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),f=l(n),d=i,h=f["".concat(s,".").concat(d)]||f[d]||p[d]||o;return n?r.createElement(h,a(a({ref:t},u),{},{components:n})):r.createElement(h,a({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=f;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,a[1]=c;for(var l=2;l<o;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},5948:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return c},metadata:function(){return l},toc:function(){return p}});var r=n(7462),i=n(3366),o=(n(7294),n(3905)),a=["components"],c={title:"Restriction on Iterative Transactions"},s=void 0,l={unversionedId:"design_proposals/accepted/restriction_on_iterative_trx",id:"design_proposals/accepted/restriction_on_iterative_trx",title:"Restriction on Iterative Transactions",description:"Executing a transaction in iterative mode is a sequence of actions, each of which is performed by a separate account specified in it. The list of accounts is specified by the creator of the transaction.",source:"@site/docs/design_proposals/accepted/restriction_on_iterative_trx.md",sourceDirName:"design_proposals/accepted",slug:"/design_proposals/accepted/restriction_on_iterative_trx",permalink:"/docs/design_proposals/accepted/restriction_on_iterative_trx",tags:[],version:"current",frontMatter:{title:"Restriction on Iterative Transactions"},sidebar:"tutorialSidebar",previous:{title:"Web3 concept",permalink:"/docs/architecture/core_aspects/web3"},next:{title:"Unsupported Tokens in Neon EVM",permalink:"/docs/design_proposals/accepted/erc721_tokens"}},u={},p=[{value:"Description of the problem",id:"description-of-the-problem",level:3},{value:"Details",id:"details",level:3},{value:"Solution",id:"solution",level:3}],f={toc:p};function d(e){var t=e.components,n=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Executing a transaction in iterative mode is a sequence of actions, each of which is performed by a separate account specified in it. The list of accounts is specified by the creator of the transaction."),(0,o.kt)("h3",{id:"description-of-the-problem"},"Description of the problem"),(0,o.kt)("p",null,"When executing a transaction in iterative mode via Neon EVM, a user may receive the error with a message about a blocked account. In this case, further execution of the transaction is terminated. This can happen despite the fact that the execution of the same transaction on Ethereum completes successfully. This fact confuses the user even more, since he is sure of the correctness of the transaction they has created."),(0,o.kt)("h3",{id:"details"},"Details"),(0,o.kt)("p",null,"The error is not typical for Ethereum and only appears in Neon EVM. The reason for the error with the message about blocked accounts lies in the processing of iterative transactions in Neon EVM."),(0,o.kt)("p",null,"Processing an iterative transaction in Neon EVM:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Neon EVM receives the transaction for iterative execution and first marks the accounts specified in it for blocking."),(0,o.kt)("li",{parentName:"ul"},"When the next transaction enters Neon EVM, the list of accounts specified in it and involved in its execution is viewed. If at this moment any listed account is in a blocked state for iterative execution in another transaction, Neon EVM returns the error."),(0,o.kt)("li",{parentName:"ul"},"The first transaction that blocked accounts will unblock them only when it is completed.")),(0,o.kt)("p",null,"The point of this implementation for Mainnet is to have a consistent state for Solana accounts during the execution of the transaction until it completes. Since the transaction is executed in iterative mode, there are time intervals between the steps being executed. Therefore, such a solution excludes the possibility of changing the data of Solana's accounts located in system state during these intervals."),(0,o.kt)("h3",{id:"solution"},"Solution"),(0,o.kt)("p",null,"Issuing the error about blocked accounts when starting a transaction is a temporary solution (workaround). The final decision will be made after MVP on Mainnet."))}d.isMDXComponent=!0}}]);